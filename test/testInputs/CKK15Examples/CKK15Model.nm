mdp

//state constants
const int s=0;
const int u=1;
const int v=2;
const int w=3;

module CKK15
    state: [0..3];
    decision: [-1..1];//-1: no decision, 0,1: boolean decision
                      //note that a decision can only made in some states
                      //note further that the rewards need to be halfed, because every
                      // other transition is a decision
    [dec1] decision=-1 -> (decision'=0);
    [dec2] decision=-1 -> (decision'=1);

    [l] state=s & decision=0 -> 0.5 : (state'=s) & (decision'=-1) + 0.5 : (state'=u) & (decision'=-1);
    [r] state=s & decision=1 ->  (state'=v) & (decision'=-1);

    [a] state=u & decision=0 -> (decision'=-1);
    [a] state=u & decision=1 -> (decision'=-1);

    [b] state=v & decision=0 -> (decision'=-1);
    [c] state=v & decision=1 -> (decision'=-1) & (state'=w);

    [d] state=w & decision=0 -> (decision'=-1);
    [e] state=w & decision=1 -> (decision'=-1) & (state'=v);
	
endmodule

rewards "first"
    [a] true : 4;
    [b] true : 1;
endrewards

rewards "second"
    [d] true : 1;
endrewards
